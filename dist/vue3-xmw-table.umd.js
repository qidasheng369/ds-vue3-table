var Q=Object.defineProperty,U=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var B=(e,l,c)=>l in e?Q(e,l,{enumerable:!0,configurable:!0,writable:!0,value:c}):e[l]=c,C=(e,l)=>{for(var c in l||(l={}))Z.call(l,c)&&B(e,c,l[c]);if(b)for(var c of b(l))v.call(l,c)&&B(e,c,l[c]);return e},u=(e,l)=>U(e,Y(l));(function(e,l){typeof exports=="object"&&typeof module!="undefined"?module.exports=l(require("vue")):typeof define=="function"&&define.amd?define(["vue"],l):(e=typeof globalThis!="undefined"?globalThis:e||self,e["vue3-xmw-table"]=l(e.Vue))})(this,function(e){"use strict";const l=e.defineComponent({name:"MultistageColumn"}),c=e.defineComponent(u(C({},l),{props:{column:{type:Object,required:!0}},setup(t){return(p,f)=>{const i=e.resolveComponent("multistage-column",!0),s=e.resolveComponent("el-table-column");return e.openBlock(),e.createBlock(s,e.mergeProps({label:t.column.label,prop:t.column.label},t.column),{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.column.children,o=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[o.children&&o.children.length?(e.openBlock(),e.createBlock(i,{key:o.prop,column:o},null,8,["column"])):(e.openBlock(),e.createBlock(s,e.mergeProps({key:1,key:o.id},o,{"show-overflow-tooltip":""}),e.createSlots({_:2},[o.slotName?{name:"default",fn:e.withCtx(r=>[e.renderSlot(p.$slots,o.slotName,{data:r})])}:void 0]),1040))],64))),256))]),_:3},16,["label","prop"])}}})),S=e.defineComponent({props:{pageConfig:{type:Object,default:()=>({})}},setup(t){return(p,f)=>{const i=e.resolveComponent("el-pagination");return e.openBlock(),e.createBlock(i,e.normalizeProps(e.guardReactiveProps(t.pageConfig)),null,16)}}});var ee="",x=(t,p)=>{const f=t.__vccOpts||t;for(const[i,s]of p)f[i]=s;return f};const E={class:"common-table"},N={class:"multi-menu"},V={style:{"font-size":"12px"}},P={key:1,class:"pagination"},z={name:"vue3-xmw-table"},j=e.defineComponent(u(C({},z),{props:{tableData:{type:Array,default:()=>[]},tableConfig:{type:Object,default:()=>{}},columns:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},showPagination:{type:Boolean,default:!0},paginationConfig:{type:Object,default:()=>{}}},emits:["pageSizeChange","currentPageChange","multiSelection"],setup(t,{expose:p,emit:f}){const i=t,s=e.reactive({selection:[]}),o=e.ref(null),r=e.computed(()=>{let n={};const d={label:"\u64CD\u4F5C",minWidth:80,fixed:"right"};return i.tableConfig.handlerConfig&&Object.assign(d,i.tableConfig.handlerConfig),n=Object.assign({rowKey:"id",showSeletion:!1,showIndexColumn:!1,indexLabel:"\u5E8F\u53F7",isCheckMemory:!1,showHandler:!1,showExpand:!1,showAppend:!1,appendLabel:"\u81EA\u5B9A\u4E49"},i.tableConfig),n.handlerConfig=d,n}),_=e.computed(()=>Object.assign({total:0,current:1,pageSize:10,pageSizes:[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper"},i.paginationConfig));function $(n){f("pageSizeChange",n)}function D(n){f("currentPageChange",n)}function w(){s.selection=[],o.value.clearSelection()}function R(n){s.selection=n,f("multiSelection",n)}function A(n){return n+(_.value.current-1)*_.value.pageSize+1}function L(n,d){o.value.toggleRowSelection(n,d)}function O(){o.value.toggleAllSelection()}function I(n,d){o.value.toggleRowExpansion(n,d)}function T(n){o.value.setCurrentRow(n)}function K(){o.value.clearSort()}function M(n){o.value.clearFilter(n)}function q(){o.value.doLayout()}function H(n,d){o.value.sort(n,d)}return p({clearSelection:w,toggleRowSelection:L,toggleAllSelection:O,toggleRowExpansion:I,setCurrentRow:T,clearSort:K,clearFilter:M,doLayout:q,sort:H}),(n,d)=>{const y=e.resolveComponent("el-divider"),W=e.resolveComponent("el-row"),m=e.resolveComponent("el-table-column"),X=e.resolveComponent("el-table"),G=e.resolveDirective("loading");return e.openBlock(),e.createElementBlock("div",E,[e.unref(r).showSeletion&&e.unref(s).selection.length?(e.openBlock(),e.createBlock(W,{key:0,justify:"space-between",style:{"align-items":"center",margin:"10px 0"}},{default:e.withCtx(()=>[e.createElementVNode("div",N,[e.createElementVNode("span",V,"\u5DF2\u9009\u4E2D"+e.toDisplayString(e.unref(s).selection.length)+"\u9879",1),e.createVNode(y,{direction:"vertical"}),e.renderSlot(n.$slots,"multiSelectMenu",{selection:e.unref(s).selection},void 0,!0)]),e.createElementVNode("a",{class:"close",onClick:w})]),_:3})):e.createCommentVNode("",!0),e.withDirectives((e.openBlock(),e.createBlock(X,e.mergeProps({ref_key:"commonTableRef",ref:o,data:t.tableData},n.$attrs,{rowKey:e.unref(r).rowKey,onSelectionChange:R}),{default:e.withCtx(()=>[e.unref(r).showExpand?(e.openBlock(),e.createBlock(m,{key:0,type:"expand"},{default:e.withCtx(a=>[e.renderSlot(n.$slots,"expand",{props:a},void 0,!0)]),_:3})):e.createCommentVNode("",!0),e.unref(r).showSeletion?(e.openBlock(),e.createBlock(m,{key:1,type:"selection",width:"60","reserve-selection":e.unref(r).isCheckMemory,align:"center"},null,8,["reserve-selection"])):e.createCommentVNode("",!0),e.unref(r).showIndexColumn?(e.openBlock(),e.createBlock(m,{key:2,type:"index",index:A,width:"60"},{header:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(e.unref(r).indexLabel),1)]),_:1})):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columns,a=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[a.children&&a.children.length?(e.openBlock(),e.createBlock(c,{key:a.prop,column:a},null,8,["column"])):(e.openBlock(),e.createBlock(m,e.mergeProps({key:1,key:a.id},a,{"show-overflow-tooltip":""}),e.createSlots({_:2},[a.slotName?{name:"default",fn:e.withCtx(J=>[e.renderSlot(n.$slots,a.slotName,{scope:J},void 0,!0)])}:void 0]),1040))],64))),256)),e.unref(r).showHandler?(e.openBlock(),e.createBlock(m,e.normalizeProps(e.mergeProps({key:3},e.unref(r).handlerConfig)),{default:e.withCtx(a=>[e.renderSlot(n.$slots,"handler",{scope:a},void 0,!0)]),_:3},16)):e.createCommentVNode("",!0),e.unref(r).showAppend?(e.openBlock(),e.createBlock(m,{key:4,type:"append",label:e.unref(r).appendLabel},{default:e.withCtx(a=>[e.renderSlot(n.$slots,"append",{props:a},void 0,!0)]),_:3},8,["label"])):e.createCommentVNode("",!0)]),_:3},16,["data","rowKey"])),[[G,t.loading]]),t.showPagination?(e.openBlock(),e.createElementBlock("div",P,[e.createVNode(S,{pageConfig:e.unref(_),onSizeChange:$,onCurrentChange:D},null,8,["pageConfig"])])):e.createCommentVNode("",!0)])}}}));var g=x(j,[["__scopeId","data-v-ee5835fc"]]);g.install=function(t){t.component(g.name,g)};const k=[g],h=function(t){h.installed||(h.installed=!0,k.map(p=>{t.component(p.name,p)}))};typeof window!="undefined"&&window.Vue&&h(window.Vue);var F=C({install:h},k);return F});
